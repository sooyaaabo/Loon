#!name = äº¬ä¸œ
#!desc = 1.è¿‡æ»¤äº¬ä¸œå¹¿å‘Šï¼›2.å†å²æ¯”ä»·ä¿¡æ¯ï¼Œä»»é€‰å…¶ä¸€å³å¯ã€‚ï¼ˆé¦–æ¬¡ä½¿ç”¨è¯·å…ˆæ‰“å¼€ã€æ…¢æ…¢ä¹°App-æˆ‘çš„ã€‘ï¼Œæç¤ºã€è·å–ckæˆåŠŸğŸ‰ã€‘å³å¯æ­£å¸¸æ¯”ä»·ã€‚ï¼‰\næ­¤æ’ä»¶ä»…æ”¯æŒäº¬ä¸œæ ‡å‡†æ¨¡å¼ã€‚
#!openUrl = https://apps.apple.com/app/id414245413
#!author = RuCu6[https://github.com/RuCu6], Maasea[https://github.com/Maasea], MuTu[https://github.com/githubdulong], è‹äº•ç°ç°[https://github.com/wf021325], mw418[https://github.com/mw418], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag = å»å¹¿å‘Š, åŠŸèƒ½å¢å¼º
#!system = 
#!system_version = 
#!loon_version = 3.3.7(921)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/Jingdong.png
#!date = 2025-12-16 20:00

# 2025-05-13 15:17:08
# https://kelee.one/Tool/Loon/Lpx/JD_Price.lpx
# 2025-05-15
# https://github.com/wf021325/qx/blob/main/js/jd_price.js
# 2025-04-23
# https://github.com/mw418/Loon/blob/main/plugin/jd_price.plugin
# 2025-04-23
# https://github.com/githubdulong/Script/blob/master/jd_price.js

[Argument]
Manmanbuy-Cookie = switch, true, false, tag = [äº¬ä¸œæ¯”ä»·]è·å–æ…¢æ…¢ä¹°Cookie, desc = é¦–æ¬¡ä½¿ç”¨è¯·å…ˆæ‰“å¼€ã€æ…¢æ…¢ä¹°ã€‘APPï¼Œæç¤ºã€è·å–ckæˆåŠŸğŸ‰ã€‘å³å¯æ­£å¸¸æ¯”ä»·ã€‚
JDPrice-TitleEmbed = switch, false, true, tag = [äº¬ä¸œæ¯”ä»·]æ ‡é¢˜åµŒå…¥ç‰ˆ, desc = ç‚¹å‡»å•†å“æ ‡é¢˜å³å¯ç›´æ¥æŸ¥çœ‹åµŒå…¥å¼å†å²ä»·æ ¼
JDPrice-DetailNotify = switch, false, true, tag = [äº¬ä¸œæ¯”ä»·]è¯¦æƒ…é€šçŸ¥ç‰ˆ, desc = ç‚¹å‡»å•†å“è¯¦æƒ…é¡µé€šè¿‡å¼¹çª—é€šçŸ¥æŸ¥çœ‹å†å²ä»·æ ¼
JDPrice-DetailEmbed-Table = switch, true, false, tag = [äº¬ä¸œæ¯”ä»·]è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆè¡¨æ ¼å›¾ï¼‰, desc = ç‚¹å‡»å•†å“è¯¦æƒ…é¡µå³å¯ç›´æ¥æŸ¥çœ‹åµŒå…¥å¼å†å²ä»·æ ¼
JDPrice-DetailEmbed-Line = switch, false, true, tag = [äº¬ä¸œæ¯”ä»·]è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆæŠ˜çº¿å›¾ï¼‰, desc = ç‚¹å‡»å•†å“è¯¦æƒ…é¡µå³å¯ç›´æ¥æŸ¥çœ‹åµŒå…¥å¼å†å²ä»·æ ¼

[Rule]
# AND, ((PROTOCOL, TCP), (DOMAIN, api.m.jd.com)), REJECT-NO-DROP
URL-REGEX, "^http:\/\/\w{32}\.jddebug\.com\/diagnose\?", REJECT

[Rewrite]
^https?:\/\/m\.360buyimg\.com\/mobilecms\/s1125x2436_jfs reject-200
^http:\/\/\w{32}\.jddebug\.com\/diagnose\? reject
^https:\/\/api\.m\.jd\.com\/\?loginType=11 reject-dict
^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=getWidgetV1052 reject
^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=(?:searchBoxWord|stationPullService|uniformRecommend[06]) reject-dict
^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=lite_advertising response-body-replace-regex jdLiteAdvertisingVO sooyaaabo
^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=basicConfig response-body-json-replace data.JDMessage.socketmonitor.isSocketEstablishedAhead 0 data.JDMessage.socketmonitor.isSocketReport 0 data.JDHttpToolKit.httpdns.httpdns 0

[Script]
# äº¬ä¸œ
http-response ^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=(?:deliverLayer|getTabHomeInfo|myOrderInfo|orderTrackBusiness|personinfoBusiness|start|welcomeHome) script-path = https://kelee.one/Resource/JavaScript/JD/JD_remove_ads.js, requires-body = true, tag = [äº¬ä¸œ]ç§»é™¤å¹¿å‘Š

# äº¬ä¸œæé€Ÿç‰ˆ
http-response ^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=lite_advertising script-path = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/CommonScript/replace-body.js, argument = jdLiteAdvertisingVO -> sooyaaabo, requires-body = true, tag = [äº¬ä¸œ]ç§»é™¤äº¬ä¸œæé€Ÿç‰ˆå¹¿å‘Š

# äº¬ä¸œæ¯”ä»·
http-request ^https?:\/\/apapia-sqk-weblogic\.manmanbuy\.com\/baoliao\/center\/menu$ script-path = https://raw.githubusercontent.com/mw418/Loon/main/script/jd_price.js, requires-body = true, timeout = 60, tag = [äº¬ä¸œæ¯”ä»·]è·å–æ…¢æ…¢ä¹°Cookie, enable={Manmanbuy-Cookie}

http-response ^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig) script-path = https://raw.githubusercontent.com/wf021325/qx/master/js/jd_price.js, requires-body = true, tag = [äº¬ä¸œæ¯”ä»·]æ ‡é¢˜åµŒå…¥ç‰ˆ, enable={JDPrice-TitleEmbed}

http-request ^https?:\/\/in\.m\.jd\.com\/product\/graphext\/\d+\.html script-path = https://raw.githubusercontent.com/mw418/Loon/main/script/jd_price.js, timeout = 60, tag = [äº¬ä¸œæ¯”ä»·]è¯¦æƒ…é€šçŸ¥ç‰ˆ, enable={JDPrice-DetailNotify}

http-response ^https?:\/\/in\.m\.jd\.com\/product\/graphext\/\d+\.html script-path = https://raw.githubusercontent.com/wf021325/qx/master/js/jd_price.js, requires-body = true, timeout = 60, tag = [äº¬ä¸œæ¯”ä»·]è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆè¡¨æ ¼å›¾ï¼‰, enable={JDPrice-DetailEmbed-Table}

http-response ^https?:\/\/in\.m\.jd\.com\/product\/graphext\/\d+\.html script-path = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/Jingdong/JD_Price.js, requires-body = true, timeout = 60, tag = [äº¬ä¸œæ¯”ä»·]è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆæŠ˜çº¿å›¾ï¼‰, enable={JDPrice-DetailEmbed-Line}

[MitM]
hostname = api.m.jd.com, in.m.jd.com, apapia-sqk-weblogic.manmanbuy.com, m.360buyimg.com