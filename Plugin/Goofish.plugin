#!name = é—²é±¼
#!desc = è¿‡æ»¤é—²é±¼å¹¿å‘Š
#!openUrl = https://apps.apple.com/app/id510909506
#!author = RuCu6[https://github.com/RuCu6], ZenmoFeiShi[https://github.com/ZenmoFeiShi], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag = å»å¹¿å‘Š
#!system = 
#!system_version = 
#!loon_version = 3.2.2(749)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App/Goofish.png
#!date = 2024-11-24 22:50

# 2024-11-24 19:15:39
# https://kelee.one/Tool/Loon/Plugin/FleaMarket_remove_ads.plugin

[Rule]
# ç§»é™¤å¹¿å‘Šä¸‹å‘è¯·æ±‚
AND, ((URL-REGEX, ^http:\/\/.+\/amdc\/mobileDispatch), (USER-AGENT, %E9%97%B2%E9%B1%BC*)), REJECT

[Rewrite]
# é¦–é¡µé¡¶éƒ¨æ ‡ç­¾
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.home\.whale\.modulet\/ reject-dict

# å•†å“è¯¦æƒ…ä¸ºä½ æ¨è
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.item\.recommend\.list\/ reject-dict

# è¿™äº›å®è´è¶…å¥½å–
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.item\.resell\.recommendorhotcate\/ reject-dict

# æ¶ˆæ¯åˆ—è¡¨æ¨å¹¿
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.playboy\.recommend\/ reject-dict

# æˆ‘çš„é¡µé¢
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.topic\.banner\/ reject-dict

# é¦–é¡µåŠ¨ç”»æ ·å¼
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.user\.strategy\.list\/ reject-dict

# ç”¨é—²é±¼å¸ä¹°æ›´ä¾¿å®œ
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.idle\.coin\.nextfresh\/ reject-dict

# æœç´¢åˆ—è¡¨
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlemtopsearch\.search\.discover\/ reject-dict
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlemtopsearch\.search\.shade\/ reject-dict
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlemtopsearch\.item\.search\.activate\/ reject-dict
^https:\/\/h5\.m\.goofish\.com\/wow\/moyu\/moyu-project\/[\w-]*search[\w-]*\/pages\/ reject-200

# ç²¾ç®€é¦–é¡µ
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.home\.nextfresh\/ response-body-json-jq '.data |= (.sections |= map(select(.template.name | IN("fish_home_advertise_card_d4", "fish_home_content_card", "fish_home_feeds_commodity_card_2", "fish_home_feeds_pager_banner") | not)) | .widgetReturnDO.widgets[0].widgetDO.channelDOList |= map(select(.title | IN("åˆ†ç±»", "æ‰‹æœºæ•°ç ", "ä¸Šé—¨å›æ”¶", "é—²é±¼é±¼å¸‚", "é—²é±¼é‰´åˆ«"))) | del(.bannerReturnDO))'

# ç²¾ç®€æˆ‘çš„é¡µé¢
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.idle\.user\.page\.my\.adapter\/ response-body-json-jq '.data.container.sections |= map(if .template.name == "my_fy25_user_info" then del(.item.level) else . end | select(.template.name | IN("my_fy25_slider", "xianyu_home_fish_my_banner_card_2023", "my_fy25_community") | not))'

[Script]
# æˆ‘çš„é¡µé¢
http-response ^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.idle\.user\.page\.my\.adapter\/ script-path = https://kelee.one/Resource/Script/FleaMarket/FleaMarket_remove_ads.js, requires-body = true, tag = ç§»é™¤æˆ‘çš„é¡µé¢æ¨å¹¿

# é¦–é¡µä¿¡æ¯æµ
http-response ^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.home\.nextfresh\/ script-path = https://kelee.one/Resource/Script/FleaMarket/FleaMarket_remove_ads.js, requires-body = true, tag = ç§»é™¤é¦–é¡µä¿¡æ¯æµæ¨å¹¿

# é¦–é¡µé¡¶éƒ¨æ ‡ç­¾
http-response ^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.home\.circle\.list\/ script-path = https://kelee.one/Resource/Script/FleaMarket/FleaMarket_remove_ads.js, requires-body = true, tag = ç§»é™¤é¦–é¡µé¡¶éƒ¨æ ‡ç­¾æ¨å¹¿

# æœç´¢ç»“æœå¹¿å‘Š
http-response ^https:\/\/g-acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlemtopsearch\.search\/ script-path = https://kelee.one/Resource/Script/FleaMarket/FleaMarket_remove_ads.js, requires-body = true, tag = ç§»é™¤æœç´¢ç»“æœå¹¿å‘Š

[MitM]
hostname = *.m.goofish.com