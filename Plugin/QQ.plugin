#!name = QQ
#!desc = QQé“¾æ¥è§£é”ï¼Œè§£é™¤QQå†…è®¿é—®éç™½åå•ä¹‹å¤–çš„åœ°å€æç¤ºåœæ­¢è®¿é—®è¯¥é¡µé¢çš„é™åˆ¶ï¼Œå¹¶ç§»é™¤è·Ÿè¸ªå‚æ•°ã€‚ä½¿ç”¨å‰éœ€è¦æ¸…é™¤QQçš„ç¼“å­˜æ•°æ®ã€‚
#!openUrl = https://apps.apple.com/app/id444934666
#!author = å¯è‰ğŸ…¥[https://gitlab.com/lodepuly/vpn_tool/-/blob/master/README.md]
#!tag = åŠŸèƒ½å¢å¼º
#!system = 
#!system_version = 
#!loon_version = 3.2.2(749)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App/QQ.png
#!date = 2024-10-21 11:00

# 2024-06-30 17:23:22
# https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Loon/Plugin/QQ_Redirect.plugin

[Rewrite]
(^https:\/\/c\.pc\.qq\.com\/middlem\.html\?pfurl=)(http.*)(&pfuin=.*) 302 $2
(^https:\/\/c\.pc\.qq\.com\/middlect\.html\?pfuin=.*&pfurl=)(http.*)(&gjsublevel=.*) 302 $2
(^https:\/\/c\.pc\.qq\.com\/middlect\.html\?iscontinue=.*pfurl=)(http.*)(&pfuin=.*) 302 $2
(^https:\/\/pingtas\.qq\.com\/webview\/pingd\?dm=c\.pc\.qq\.com&pvi=\d+&si=s\d+&url=\/middlem\.html\?pfurl%3d)(http.*)(%26pfuin%3d.*%26pfuin%3d.*) 302 $2
(^https:\/\/cgi\.connect\.qq\.com\/qqconnectopen\/get_urlinfoForQQV2\?url=)(http.*) 302 $2
(^https:\/\/c\.pc\.qq\.com\/index\.html\?pfurl=)(http.*)(&pfuin=.*) 302 $2
(^https:\/\/c\.pc\.qq\.com\/ios\.html\?url=)(http.*)(&level=.*) 302 $2
(^https:\/\/pingtas\.qq\.com\/webview\/pingd\?dm=c\.pc\.qq\.com&pvi=\d+&si=s\d+&url=\/ios\.html\?url%3d)(http.*)(%26level.*%26level.*) 302 $2

[MitM]
hostname = pingtas.qq.com, c.pc.qq.com, cgi.connect.qq.com