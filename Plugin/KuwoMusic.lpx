#!name = é…·æˆ‘éŸ³ä¹
#!desc = è¿‡æ»¤é…·æˆ‘éŸ³ä¹å¹¿å‘Šï¼Œè§£é”ä¼šå‘˜åŠŸèƒ½ã€‚
#!openUrl = https://apps.apple.com/app/id588673713
#!author = Yuheng0101[https://t.me/Yuheng0101], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag = å»å¹¿å‘Š, è§£é”ä¼šå‘˜
#!system = 
#!system_version = 
#!loon_version = 3.3.7(921)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/KuwoMusic.png
#!date = 2025-12-22 18:00

# 2025-12-22 1.1.0
# https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/Kuwo/kuwo.sgmodule
# 2025-05-13 15:17:08
# https://kelee.one/Tool/Loon/Lpx/Kuwo_remove_ads.lpx

[Rule]
# å¹¿å‘Šé…ç½®
URL-REGEX, "^http:\/\/rich\.kuwo\.cn\/AdService\/", REJECT-DICT
URL-REGEX, "^http:\/\/wapi\.kuwo\.cn\/openapi\/v\d\/user\/freeMode\/", REJECT-DICT
URL-REGEX, "^http:\/\/wapi\.kuwo\.cn\/openapi\/v\d\/app\/pasterAdvert\/", REJECT-DICT
URL-REGEX, "^http:\/\/wapi\.kuwo\.cn\/openapi\/v\d\/app\/startup\/config", REJECT-DICT
URL-REGEX, "^http:\/\/rich\.kuwo\.cn\/EcomResourceServer\/", REJECT-DICT
IP-CIDR, 111.206.98.63/32, REJECT, no-resolve

# æœç´¢å¡«å……è¯
URL-REGEX, "^http:\/\/searchrecterm\.kuwo\.cn\/recterm\.s", REJECT-DICT

# ç²¾ç®€æˆ‘çš„é¡µé¢ä¾§è¾¹æ 
URL-REGEX, "^http:\/\/wapi\.kuwo\.cn\/openapi\/v\d\/app\/newMenuList\/menuListInfo", REJECT-DICT

# è¿·ä½ æ’­æ”¾å™¨æ¨ªå¹…
URL-REGEX, "^http:\/\/vip\d\.kuwo\.cn\/vip\/v\d\/sysinfo\?op=getRePayAndDoPayBox", REJECT-DICT

# å¬ä¹¦é¡µé¢å¹¿å‘Š
URL-REGEX, "^http:\/\/wapi\.kuwo\.cn\/openapi\/v\d\/album\/adBar\/", REJECT-DICT

[Rewrite]
# é¦–é¡µ - æ¨å¹¿è¯­
^https:\/\/vip\d\.kuwo\.cn\/commercia\/vipconf\/projectPage\/getPageContent reject-dict
^https:\/\/tingshu\.kuwo\.cn\/v2\/api\/pay\/user\/info reject-dict

# æˆ‘çš„é¡µé¢æ¨ªå¹…
^https:\/\/appi\.kuwo\.cn\/kuwopay\/personal\/cells reject-dict

# ç§»é™¤å¬ä¹¦é¡µé¢å¹¿å‘Š
^http:\/\/wapi\.kuwo\.cn\/openapi\/v\d\/tingshu\/index\/radio response-body-json-jq 'walk(if type == "object" and .type == "stripAdvert" then del(.child) else . end)'

[Script]
# è§£é”ä¼šå‘˜
http-response ^https?:\/\/vip1\.kuwo\.cn\/vip\/enc\/user\/vip script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]ä¿®æ”¹ä¼šå‘˜ä¿¡æ¯

http-request ^https?:\/\/music(pay)?\.kuwo\.cn\/music.pay\?newver=3 script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]ä¿®æ”¹éŸ³ä¹ä¿¡æ¯

http-response ^https?:\/\/.+\.kuwo\.cn\/mobi\.s\?f=kwxs&q= script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]ä¿®æ”¹æ’­æ”¾æ¥å£

http-response ^https?:\/\/tingshu\.kuwo\.cn\/api\/v2\/pay\/app\/getConfigInfo script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]ä¼ªè£…å¬ä¹¦ä¼šå‘˜

http-response ^https?:\/\/tingshu\.kuwo\.cn\/v2\/api\/pay\/payInfo\/kwplayer\/payMiniBar script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]å¬ä¹¦åˆ—è¡¨æ¨ªå¹…

http-request ^https?:\/\/audiobookpay\.kuwo\.cn\/a\.p\?simpleToken=1 script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]ä¿®æ”¹å¬ä¹¦ä¿¡æ¯

http-response ^https?:\/\/audiobookpay\.kuwo\.cn\/a\.p\?newver=3 script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]ä¿®æ”¹æ¼«å‰§ä¿¡æ¯

http-response ^https?:\/\/vip1\.kuwo\.cn\/(commercia\/)?vip\/(v2\/theme\?op\=gd|(player\/getStyleListByModel|hanger\/wear)) script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]è§£é”ä¼šå‘˜çš®è‚¤

http-response ^https?:\/\/vip1\.kuwo\.cn\/vip\/v2\/user\/vip script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]è§£é”ä¼šå‘˜ä¿¡æ¯

http-response ^https?:\/\/vip1\.kuwo\.cn\/commercia\/vip\/dressCenter\/getTabList script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]å»é™¤è£…æ‰®æ¨ªå¹…

http-response ^https?:\/\/vip1\.kuwo\.cn\/commercia\/vipTab\/myTab\/base script-path = https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/kuwo.js, requires-body = true, timeout = 60, tag=[é…·æˆ‘éŸ³ä¹]ä¸ªäººä¿¡æ¯ä¿®æ”¹

# ç§»é™¤å¹¿å‘Š
http-response ^https?:\/\/(mgxhtj|nmobi|searchrecterm)\.kuwo\.cn\/(mgxh|mobi|recterm)\.s script-path = https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/kuwo/kuwo.js, requires-body = true, tag = [é…·æˆ‘éŸ³ä¹]ç§»é™¤å¹¿å‘Š

http-response ^https?:\/\/audiobookpay\.kuwo\.cn\/a\.p script-path = https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/kuwo/kuwo.js, requires-body = true, tag = [é…·æˆ‘éŸ³ä¹]ç§»é™¤å¹¿å‘Š

http-response ^https?:\/\/musicpay\.kuwo\.cn\/music\.pay script-path = https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/kuwo/kuwo.js, requires-body = true, tag = [é…·æˆ‘éŸ³ä¹]ç§»é™¤å¹¿å‘Š

http-response ^https?:\/\/vip1\.kuwo\.cn\/vip\/(enc\/user\/vip\?op=ui|v\d\/theme\?op=gd) script-path = https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/kuwo/kuwo.js, requires-body = true, tag = [é…·æˆ‘éŸ³ä¹]ç§»é™¤å¹¿å‘Š

http-response ^https?:\/\/vip1\.kuwo\.cn\/vip\/v\d\/user\/vip\?op=ui script-path = https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/kuwo/kuwo.js, requires-body = true, tag = [é…·æˆ‘éŸ³ä¹]ç§»é™¤å¹¿å‘Š

# ç§»é™¤å¬ä¹¦é¡µé¢å¹¿å‘Š
# http-response ^http:\/\/wapi\.kuwo\.cn\/openapi\/v\d\/tingshu\/index\/radio script-path = https://kelee.one/Resource/JavaScript/Kuwo/Kuwo_remove_ads.js, requires-body = true, tag = [é…·æˆ‘éŸ³ä¹]ç§»é™¤å¬ä¹¦é¡µé¢å¹¿å‘Š

[MitM]
hostname = appi.kuwo.cn, mc.tencentmusic.com, vip*.kuwo.cn, tingshu.kuwo.cn, *.kuwo.cn