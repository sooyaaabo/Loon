// Built at: 2025/8/20 22:25:56
function y(n={}){let e=Object.create(null),t=r=>typeof r=="string"?r.toLowerCase():r;for(let[r,s]of Object.entries(n))e[t(r)]=s;let o={get(r,s){return Reflect.get(r,t(s))},set(r,s,i){return Reflect.set(r,t(s),i)},has(r,s){return Reflect.has(r,t(s))},deleteProperty(r,s){return Reflect.deleteProperty(r,t(s))},ownKeys(r){return Reflect.ownKeys(r)},getOwnPropertyDescriptor(r,s){return Reflect.getOwnPropertyDescriptor(r,t(s))},defineProperty(r,s,i){return Reflect.defineProperty(r,t(s),i)}};return new Proxy(e,o)}function b(n){return typeof n!="object"||n===null?String(n):n instanceof Date?n.toISOString():n instanceof RegExp?n.toString():Array.isArray(n)?JSON.stringify(n):typeof n.toString=="function"&&n.toString!==Object.prototype.toString?n.toString():JSON.stringify(n)}var p=class n{static getInstance(e){let t="Surge";if(typeof $loon<"u")t="Loon";else if(typeof $task<"u")throw new Error("QuantumultX is not supported");return n.instances[t]||(n.instances[t]=n.classNames[t](e,t)),n.instances[t]}static classNames={Surge:(e,t)=>new l(e,t),Loon:(e,t)=>new h(e,t)};static instances={};className;name;logLevels={debug:1,info:2,warn:3,error:4,off:5};logLevel=this.logLevels.error;request;response;argument;_url;get url(){return this._url||(this._url=new URL(this.request.url)),this._url}constructor(e,t){this.className=t??"",this.name=e??"",this.init()}createProxy(e){return new Proxy(e,{get:this.getFn,set:this.setFn})}getFn(e,t,o){return Reflect.get(e,t,o)}setFn(e,t,o,r){return Reflect.set(e,t,o,r),!0}setName(e){this.name=e}getJSON(e){let t=this.getVal(e);return t?JSON.parse(t):null}setJSON(e,t){this.setVal(JSON.stringify(e),t)}logWithPrefix(e,t){console.log(`${e}${t.map(o=>b(o)).join(" | ")}`)}log(...e){this.logWithPrefix("",e)}debug(...e){this.logLevel>this.logLevels.debug||this.logWithPrefix("[DEBUG]",e)}info(...e){this.logLevel>this.logLevels.info||this.logWithPrefix("[INFO]",e)}warn(...e){this.logLevel>this.logLevels.warn||this.logWithPrefix("[WARN]",e)}error(...e){this.logLevel>this.logLevels.error||this.logWithPrefix("[ERROR]",e)}exit(){$done({})}},l=class n extends p{static propertyMap={bodyBytes:"body"};getFn(e,t,o){let r=n.propertyMap[t]||t;return super.getFn(e,r,o)}setFn(e,t,o,r){let s=n.propertyMap[t]||t;return super.setFn(e,s,o,r)}init(){typeof $request=="object"&&(this.request=this.createProxy($request)),typeof $response=="object"&&(this.response=this.createProxy($response)),typeof $argument=="string"&&(this.argument=JSON.parse($argument),"logLevel"in this.argument&&(this.logLevel=this.logLevels[this.argument.logLevel]??this.logLevels.error))}getVal(e){return $persistentStore.read(e)}setVal(e,t){return $persistentStore.write(e,t)}fetch(e){let{method:t,body:o,timeout:r=5,...s}=e;return new Promise((i,d)=>{$httpClient[t]({...s,body:o,"binary-mode":o instanceof Uint8Array,timeout:r},(a,u,f)=>{if(a)return d(a);let S=f instanceof Uint8Array?"bodyBytes":"body";i({status:u.status,headers:u.headers,[S]:f})})})}notify(e=this.name,t="",o="",r={}){let{openUrl:s,clipboard:i,mediaUrl:d,dismiss:a,sound:u=!0}=r,f={url:s,text:i,"media-url":d,"auto-dismiss":a,sound:u};s?f.action="open-url":i&&(f.action="clipboard"),$notification.post(e,t,o,f)}ungzip(e){return $utils.ungzip(e)}done(e){$done(e)}abort(){$done({abort:!0})}},h=class extends l{init(){super.init(),typeof $argument=="object"&&(this.argument=$argument,"logLevel"in this.argument&&(this.logLevel=this.logLevels[this.argument.logLevel]??this.logLevels.error))}fetch(e){return e.timeout=(e.timeout??5)*1e3,super.fetch(e)}notify(e=this.name,t="",o="",r={}){let{openUrl:s,mediaUrl:i,clipboard:d,delay:a}=r,u={openUrl:s,mediaUrl:i,clipboard:d};$notification.post(e,t,o,u,a)}abort(){$done()}};var c=p.getInstance();var g=class{message;domParser=new DOMParser;styleTemplate;scriptTemplate;filterList;constructor(){if(!y(c.response.headers)["content-type"]?.includes("text/html"))throw new Error("Invalid URL");this.message=this.fromString(c.response.body)}done(){c.done({body:this.toString()})}process(){if(this.filterList&&this.filterList.forEach(({selector:e,filterFn:t})=>{this.remove(this.query(e).filter(t))}),this.scriptTemplate){let e=this.message.createElement("script");e.textContent=this.scriptTemplate,this.append(this.message.head,e)}if(this.styleTemplate){let e=this.message.createElement("style");e.textContent=this.styleTemplate,this.append(this.message.head,e)}return this}fromString(e){return this.domParser.parseFromString(e,"text/html")}toString(){return`<!DOCTYPE HTML>${this.message.documentElement.outerHTML}`}query(e){return Array.from(this.message.querySelectorAll(e))}append(e,...t){return t.map(o=>e.appendChild(o))}remove(e){return e.map(t=>t.parentElement?.removeChild(t))}};var m=class extends g{styleTemplate="#mobile-ad,#bottom-ads,a[href*=\".labsda.com\"],a[href^=\"https://go.rmhfrtnd.com/\"],div[style*=\"width: 310px; height: 282px;\"]{display:none!important}div:has(>script[src*=\"jads.co\"]){display:none!important}.video-show-width>.single-show-list>.hidden-xs[style*=\"text-align:\"]{display:none!important}div:has(>.scaled-juicyads){height:90px!important}.scaled-exoclick,.scaled-juicyads{display:none!important}\n";filterList=[{selector:"script",filterFn:e=>{let t=e.src||"",o=e.innerText||"";return t.includes("googlesyndication.com/pagead/")||o.includes("/infinity.js.aspx?")||/creative.*\/widgets\/v4\/Universal\?/.test(o)}},{selector:"iframe",filterFn:e=>{let t=e.src||"";return/creative.*\/widgets\/v4\/Universal\?/.test(t)}}]};try{new m().process().done()}catch(n){c.error(n,c.request.url)}finally{c.exit()}
