// Built at: 2025/12/6 09:53:02
var Q=Object.defineProperty;var b=(t,e)=>()=>(t&&(e=t(t=0)),e);var h=(t,e)=>{for(var i in e)Q(t,i,{get:e[i],enumerable:!0})};var F={};h(F,{default:()=>K});var K,I=b(()=>{K={live:"\u76F4\u64AD",for_you:"\u63A8\u8350",trending:"\u70ED\u95E8",anime:"\u52A8\u753B",film:"\u5F71\u89C6",messages:"\u6D88\u606F",home:"\u9996\u9875",following:"\u52A8\u6001",me:"\u6211\u7684",downloads:"\u79BB\u7EBF\u7F13\u5B58",history:"\u5386\u53F2\u8BB0\u5F55",my_favorites:"\u6211\u7684\u6536\u85CF",watch_later:"\u7A0D\u540E\u518D\u770B",creator_hub:"\u521B\u4F5C\u4E2D\u5FC3",data_center:"\u6570\u636E\u4E2D\u5FC3",host_center:"\u4E3B\u64AD\u4E2D\u5FC3",live_data:"\u76F4\u64AD\u6570\u636E",upload:"\u53D1\u5E03",recommended_services:"\u63A8\u8350\u670D\u52A1",customization:"\u4E2A\u6027\u88C5\u626E",mall:"\u4F1A\u5458\u8D2D",my_wallet:"\u6211\u7684\u94B1\u5305",live_studio:"\u6211\u7684\u76F4\u64AD",more_services:"\u66F4\u591A\u670D\u52A1",help_center:"\u8054\u7CFB\u5BA2\u670D",settings:"\u8BBE\u7F6E"}});var N={};h(N,{default:()=>Y});var Y,j=b(()=>{Y={live:"\u76F4\u64AD",for_you:"\u63A8\u85A6",trending:"\u71B1\u9580",anime:"\u52D5\u756B",film:"\u5F71\u8996",messages:"\u8A0A\u606F",home:"\u9996\u9801",following:"\u95DC\u6CE8",me:"\u6211\u7684",downloads:"\u96E2\u7DDA\u5FEB\u53D6",history:"\u6B77\u53F2\u8A18\u9304",my_favorites:"\u6211\u7684\u6536\u85CF",watch_later:"\u7A0D\u5F8C\u518D\u770B",creator_hub:"\u5275\u4F5C\u4E2D\u5FC3",data_center:"\u8CC7\u6599\u4E2D\u5FC3",host_center:"\u4E3B\u64AD\u4E2D\u5FC3",live_data:"\u76F4\u64AD\u8CC7\u6599",upload:"\u767C\u4F48",recommended_services:"\u6211\u7684\u670D\u52D9",customization:"\u500B\u6027\u88DD\u626E",mall:"\u6703\u54E1\u8CFC",my_wallet:"\u6211\u7684\u9322\u5305",live_studio:"\u6211\u7684\u76F4\u64AD",more_services:"\u66F4\u591A\u670D\u52D9",help_center:"\u806F\u7D61\u5BA2\u670D",settings:"\u8A2D\u5B9A"}});var U={};h(U,{default:()=>Z});var Z,E=b(()=>{Z={live:"Live",for_you:"For You",trending:"Trending",anime:"Anime",film:"Film & TV",messages:"Messages",home:"Home",following:"Following",me:"Me",downloads:"Downloads",my_favorites:"My Favorites",history:"History",watch_later:"Watch Later",creator_hub:"Creator Hub",data_center:"Data Center",host_center:"Host Center",live_data:"Live Data",upload:"Upload",recommended_services:"Recommended Services",customization:"Customization",mall:"Mall",my_wallet:"My Wallet",live_studio:"Live Studio",more_services:"More Services",help_center:"Help Center",settings:"Settings"}});var V={};h(V,{default:()=>ee});var ee,k=b(()=>{ee={live:"\u30E9\u30A4\u30D6",for_you:"\u304A\u3059\u3059\u3081",trending:"\u6025\u4E0A\u6607",anime:"\u30A2\u30CB\u30E1",film:"\u6620\u753B\u30FB\u30C9\u30E9\u30DE",messages:"\u30E1\u30C3\u30BB\u30FC\u30B8",home:"\u30DB\u30FC\u30E0",following:"\u30D5\u30A9\u30ED\u30FC",me:"\u30DE\u30A4\u30DA\u30FC\u30B8",downloads:"\u30AA\u30D5\u30E9\u30A4\u30F3\u4FDD\u5B58",history:"\u5C65\u6B74",my_favorites:"\u304A\u6C17\u306B\u5165\u308A",watch_later:"\u5F8C\u3067\u898B\u308B",creator_hub:"\u30AF\u30EA\u30A8\u30A4\u30BF\u30FC\u30BB\u30F3\u30BF\u30FC",data_center:"\u30C7\u30FC\u30BF\u30BB\u30F3\u30BF\u30FC",host_center:"\u914D\u4FE1\u8005\u30BB\u30F3\u30BF\u30FC",live_data:"\u30E9\u30A4\u30D6\u30C7\u30FC\u30BF",upload:"\u6295\u7A3F",recommended_services:"\u30DE\u30A4\u30B5\u30FC\u30D3\u30B9",customization:"\u30AB\u30B9\u30BF\u30DE\u30A4\u30BA",mall:"\u30E2\u30FC\u30EB",my_wallet:"\u30A6\u30A9\u30EC\u30C3\u30C8",live_studio:"\u914D\u4FE1\u30B9\u30BF\u30B8\u30AA",more_services:"\u305D\u306E\u4ED6\u306E\u30B5\u30FC\u30D3\u30B9",help_center:"\u30D8\u30EB\u30D7\u30BB\u30F3\u30BF\u30FC",settings:"\u8A2D\u5B9A"}});var g=t=>async(e,i)=>{let o=s=>async()=>{let r=s===t.length?i:t[s];if(r)return await r(e,o(s+1))};return o(0)()};function x(t){return typeof t!="object"||t===null?String(t):t instanceof Error&&t.cause?`${t.toString()} { [cause]: ${x(t.cause)} }`:Array.isArray(t)?JSON.stringify(t):typeof t.toString=="function"&&t.toString!==Object.prototype.toString?t.toString():JSON.stringify(t)}var P=(r=>(r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.OFF=5]="OFF",r))(P||{}),n=class{static level=4;static setLevel(e){this.level=Number(e)||P[e.toUpperCase()]||4}static log(...e){console.log(e.map(i=>x(i)).join(" "))}static debug(...e){this.level>1||this.log("[DEBUG]",...e)}static info(...e){this.level>2||this.log("[INFO]",...e)}static warn(...e){this.level>3||this.log("[WARN]",...e)}static error(...e){this.level>4||this.log("[ERROR]",...e)}};var _=class t{static getInstance(){return t.instance||(t.instance=t.createInstance()),t.instance}static createInstance(){if(typeof $loon<"u")return new R;if(typeof $task<"u")throw new Error("QuantumultX is not supported");return new y}static instance;request;response;argument={};state={};#e;get url(){return this.#e||(this.#e=new URL(this.request.url)),this.#e}get path(){return this.url.pathname}constructor(){this.request=this.createRequest(typeof $request<"u"?$request:null),this.response=this.createResponse(typeof $response<"u"?$response:null)}getJSON(e){let i=this.getVal(e);return i?JSON.parse(i):null}setJSON(e,i){this.setVal(JSON.stringify(e),i)}exit(){$done({})}},y=class extends _{createRequest(e){return Object.create(e,{bodyBytes:{get(){return this.body},set(i){this.body=i}}})}createResponse(e){return Object.create(e,{bodyBytes:{get(){return this.body},set(i){this.body=i}}})}initArgument(e){if(Object.assign(this.argument,e),typeof $argument=="string")try{Object.assign(this.argument,JSON.parse($argument))}catch(i){n.log(i)}}getVal(e){return $persistentStore.read(e)}setVal(e,i){return $persistentStore.write(e,i)}fetch(e){let{method:i,body:o,timeout:s=5,...r}=e;return new Promise((c,l)=>{$httpClient[i.toLowerCase()]({...r,body:o,"binary-mode":o instanceof Uint8Array,timeout:s},(d,p,u)=>{if(d)return l(d);c(this.createResponse({...p,body:u}))})})}notify(e="",i="",o="",s={}){let{openUrl:r,clipboard:c,mediaUrl:l,dismiss:d,sound:p=!0}=s,u={url:r,text:c,"media-url":l,"auto-dismiss":d,sound:p};r?u.action="open-url":c&&(u.action="clipboard"),$notification.post(e,i,o,u)}done(e){$done({...e})}abort(){$done({abort:!0})}},R=class extends y{initArgument(e){super.initArgument(e),typeof $argument=="object"&&Object.assign(this.argument,$argument)}fetch(e){return e.timeout=(e.timeout??5)*1e3,e.alpn="h2",super.fetch(e)}notify(e="",i="",o="",s={}){let{openUrl:r,mediaUrl:c,clipboard:l,delay:d}=s,p={openUrl:r,mediaUrl:c,clipboard:l};$notification.post(e,i,o,p,d)}abort(){$done()}};var m=_.getInstance();var v=class{middleware=[];use(e){return this.middleware.push(e),this}run(){g(this.middleware)(m).catch(e=>n.error(e,m.request.method,m.request.url)).finally(()=>m.exit())}};var M=async(t,e)=>{await e(),t.done(t.response)};var H=async(t,e)=>{t.state.message=JSON.parse(t.response.body),await e(),t.response.body=JSON.stringify(t.state.message)};var S=t=>(e,i)=>(e.initArgument(t),n.setLevel(String(e.argument.logLevel)),n.debug("[Argument]",e.argument),i());var f=class{path;stack;constructor(e,i){this.path=e,this.stack=i}};var W=(t,e)=>e.path===t.path;var $=(t,e)=>e.path.endsWith(t.path),w=class{stack=[];matchPath;constructor(e={}){this.matchPath=e.matchPath||W}use(...e){return this.register("",e)}add(e,...i){return this.register(e,i)}routes(){return(e,i)=>{let o=this.match(e);if(o.length===0)return i();let s=o.flatMap(r=>r.stack);return g(s)(e,i)}}match(e){return this.stack.filter(i=>i.path===""||this.matchPath(i,e))}register(e,i){if(Array.isArray(e))for(let o of e)this.stack.push(new f(o,i));else this.stack.push(new f(e,i));return this}};var D=t=>({tab:[{pos:1,id:731,name:t.live,tab_id:"\u76F4\u64ADtab",uri:"bilibili://live/home"},{pos:2,id:477,name:t.for_you,tab_id:"\u63A8\u8350tab",uri:"bilibili://pegasus/promo",default_selected:1},{pos:3,id:478,name:t.trending,tab_id:"\u70ED\u95E8tab",uri:"bilibili://pegasus/hottopic"},{pos:4,id:3502,name:t.anime,tab_id:"bangumi",uri:"bilibili://pgc/bangumi_v2"},{pos:5,id:3503,name:t.film,tab_id:"film",uri:"bilibili://pgc/cinema_v2"}],top:[{pos:1,id:176,name:t.messages,tab_id:"\u6D88\u606FTop",uri:"bilibili://link/im_home",icon:"http://i0.hdslb.com/bfs/archive/d43047538e72c9ed8fd8e4e34415fbe3a4f632cb.png"}],bottom:[{pos:1,id:177,name:t.home,tab_id:"home",uri:"bilibili://main/home/",icon:"http://i0.hdslb.com/bfs/archive/63d7ee88d471786c1af45af86e8cb7f607edf91b.png",icon_selected:"http://i0.hdslb.com/bfs/archive/e5106aa688dc729e7f0eafcbb80317feb54a43bd.png"},{pos:2,id:179,name:t.following,tab_id:"dynamic",uri:"bilibili://following/home/",icon:"http://i0.hdslb.com/bfs/archive/86dfbe5fa32f11a8588b9ae0fccb77d3c27cedf6.png",icon_selected:"http://i0.hdslb.com/bfs/archive/25b658e1f6b6da57eecba328556101dbdcb4b53f.png"},{pos:5,id:181,name:t.me,tab_id:"\u6211\u7684Bottom",uri:"bilibili://user_center/",icon:"http://i0.hdslb.com/bfs/archive/4b0b2c49ffeb4f0c2e6a4cceebeef0aab1c53fe1.png",icon_selected:"http://i0.hdslb.com/bfs/archive/a54a8009116cb896e64ef14dcf50e5cade401e00.png"}]}),q=t=>({sections_v2:[{items:[{id:396,title:t.downloads,uri:"bilibili://user_center/download",icon:"http://i0.hdslb.com/bfs/archive/5fc84565ab73e716d20cd2f65e0e1de9495d56f8.png",common_op_item:{}},{id:397,title:t.history,uri:"bilibili://user_center/history",icon:"http://i0.hdslb.com/bfs/archive/8385323c6acde52e9cd52514ae13c8b9481c1a16.png",common_op_item:{}},{id:3072,title:t.my_favorites,uri:"bilibili://user_center/favourite?version=2",icon:"http://i0.hdslb.com/bfs/archive/d79b19d983067a1b91614e830a7100c05204a821.png",common_op_item:{}},{id:2830,title:t.watch_later,uri:"bilibili://user_center/watch_later_v2",icon:"http://i0.hdslb.com/bfs/archive/63bb768caa02a68cb566a838f6f2415f0d1d02d6.png",need_login:1,common_op_item:{}}],style:1,button:{}},{title:t.recommended_services,items:[{id:402,title:t.customization,uri:"https://www.bilibili.com/h5/mall/home?navhide=1&f_source=shop&from=myservice",icon:"http://i0.hdslb.com/bfs/archive/0bcad10661b50f583969b5a188c12e5f0731628c.png",common_op_item:{}},{id:622,title:t.mall,uri:"bilibili://mall/home",icon:"http://i0.hdslb.com/bfs/archive/19c794f01def1a267b894be84427d6a8f67081a9.png",common_op_item:{}},{id:404,title:t.my_wallet,uri:"bilibili://bilipay/mine_wallet",icon:"http://i0.hdslb.com/bfs/archive/f416634e361824e74a855332b6ff14e2e7c2e082.png",common_op_item:{}},{id:406,title:t.live_studio,uri:"bilibili://user_center/live_center",icon:"http://i0.hdslb.com/bfs/archive/1db5791746a0112890b77a0236baf263d71ecb27.png",common_op_item:{}}],style:1,button:{}},{title:t.more_services,items:[{id:407,title:t.help_center,uri:"bilibili://user_center/feedback",icon:"http://i0.hdslb.com/bfs/archive/7ca840cf1d887a45ee1ef441ab57845bf26ef5fa.png",common_op_item:{}},{id:410,title:t.settings,uri:"bilibili://user_center/setting",icon:"http://i0.hdslb.com/bfs/archive/e932404f2ee62e075a772920019e9fbdb4b5656a.png",common_op_item:{}}],style:2,button:{}}],ipad_sections:[{id:747,title:"\u79BB\u7EBF\u7F13\u5B58",uri:"bilibili://user_center/download",icon:"http://i0.hdslb.com/bfs/feed-admin/9bd72251f7366c491cfe78818d453455473a9678.png",mng_resource:{icon_id:0,icon:""}},{id:748,title:"\u5386\u53F2\u8BB0\u5F55",uri:"bilibili://user_center/history",icon:"http://i0.hdslb.com/bfs/feed-admin/83862e10685f34e16a10cfe1f89dbd7b2884d272.png",mng_resource:{icon_id:0,icon:""}},{id:749,title:"\u6211\u7684\u6536\u85CF",uri:"bilibili://user_center/favourite",icon:"http://i0.hdslb.com/bfs/feed-admin/6ae7eff6af627590fc4ed80c905e9e0a6f0e8188.png",mng_resource:{icon_id:0,icon:""}},{id:750,title:"\u7A0D\u540E\u518D\u770B",uri:"bilibili://user_center/watch_later",icon:"http://i0.hdslb.com/bfs/feed-admin/928ba9f559b02129e51993efc8afe95014edec94.png",mng_resource:{icon_id:0,icon:""}}],ipad_upper_sections:[{id:752,title:"\u521B\u4F5C\u9996\u9875",uri:"/uper/homevc",icon:"http://i0.hdslb.com/bfs/feed-admin/d20dfed3b403c895506b1c92ecd5874abb700c01.png",mng_resource:{icon_id:0,icon:""}}],ipad_recommend_sections:[{id:755,title:"\u6211\u7684\u5173\u6CE8",uri:"bilibili://user_center/myfollows",icon:"http://i0.hdslb.com/bfs/feed-admin/fdd7f676030c6996d36763a078442a210fc5a8c0.png",mng_resource:{icon_id:0,icon:""}},{id:756,title:"\u6211\u7684\u6D88\u606F",uri:"bilibili://link/im_home",icon:"http://i0.hdslb.com/bfs/feed-admin/e1471740130a08a48b02a4ab29ed9d5f2281e3bf.png",mng_resource:{icon_id:0,icon:""}}],ipad_more_sections:[{id:763,title:"\u6211\u7684\u5BA2\u670D",uri:"bilibili://user_center/feedback",icon:"http://i0.hdslb.com/bfs/feed-admin/7801a6180fb67cf5f8ee05a66a4668e49fb38788.png",mng_resource:{icon_id:0,icon:""}},{id:764,title:"\u8BBE\u7F6E",uri:"bilibili://user_center/setting",icon:"http://i0.hdslb.com/bfs/feed-admin/34e8faea00b3dd78977266b58d77398b0ac9410b.png",mng_resource:{icon_id:0,icon:""}}]}),C=t=>({title:t.creator_hub,items:[{id:171,title:t.creator_hub,uri:"bilibili://uper/homevc",icon:"http://i0.hdslb.com/bfs/archive/d3aad2d07538d2d43805f1fa14a412d7a45cc861.png",need_login:1,global_red_dot:0,display:1,is_up_anchor:!0},{id:533,title:t.data_center,uri:"https://member.bilibili.com/york/data-center?navhide=1&from=profile",icon:"http://i0.hdslb.com/bfs/feed-admin/367204ba56004b1a78211ba27eefbf5b4cc53a35.png",need_login:1,global_red_dot:0,display:1},{id:707,title:t.host_center,uri:"https://live.bilibili.com/p/html/live-app-anchor-center/index.html?is_live_webview=1#/",icon:"http://i0.hdslb.com/bfs/feed-admin/48e17ccd0ce0cfc9c7826422d5e47ce98f064c2a.png",need_login:1,display:1},{id:2647,title:t.live_data,uri:"https://live.bilibili.com/p/html/live-app-data/index.html?source_tag=0&foreground=pink&is_live_webview=1&hybrid_set_header=2#/",icon:"https://i0.hdslb.com/bfs/legacy/0566b128c51d85b7ec545f318e1fd437d172dfea.png",display:1}],style:1,button:{text:t.upload,url:"bilibili://uper/user_center/archive_selection",icon:"http://i0.hdslb.com/bfs/archive/205f47675eaaca7912111e0e9b1ac94cb985901f.png",style:1},type:1,up_title:t.creator_hub});function O(){let t=X();return{status:1,type:2,vip_pay_type:0,due_date:90052704e5,tv_vip_status:1,tv_vip_pay_type:0,tv_due_date:90052704e5,role:15,theme_type:0,nickname_color:"#FB7299",avatar_subscript:1,avatar_subscript_url:"",avatar_icon:{icon_resource:{}},label:{path:"",text:"\u767E\u5E74\u5927\u4F1A\u5458",label_theme:"hundred_annual_vip",text_color:"#FFFFFF",bg_style:1,bg_color:"#FB7299",border_color:"",use_img_label:!0,image:t,img_label_uri_hans:"",img_label_uri_hant:"",img_label_uri_hans_static:t,img_label_uri_hant_static:t}}}function X(){let t=new Date,e=t.getMonth()+1,i=t.getDate();switch(`${e}/${i}`){case"6/1":return"https://i0.hdslb.com/bfs/bangumi/kt/d2d09af98bd5aaead93493df9a20a73b474672f7.png";default:return"https://i0.hdslb.com/bfs/vip/52f60c8bdae8d4440edbb96dad72916022adf126.png"}}function L(t){let e={"zh-Hans_CN":()=>Promise.resolve().then(()=>(I(),F)),"zh-Hant_HK":()=>Promise.resolve().then(()=>(j(),N)),en:()=>Promise.resolve().then(()=>(E(),U)),ja:()=>Promise.resolve().then(()=>(k(),V))};return e[t]||e["zh-Hans_CN"]}var B=S({showCreatorHub:!1}),A=async(t,e)=>{let i=t.url.searchParams.get("s_locale")||"";return t.state.i18n=(await L(i)()).default,e()},T=(t,e)=>t.state.message.code!==0?t.exit():e();var a=new w({matchPath:$});a.add("/show/tab/v2",A,t=>{let{data:e}=t.state.message;Object.assign(e,D(t.state.i18n))});a.add(["/splash/list","/splash/show","/splash/event/list2"],T,t=>{let{data:e}=t.state.message;e.min_interval&&(e.min_interval=864e3),e.pull_interval&&(e.pull_interval=864e3),e.show&&(e.show.length=0),e.event_list&&(e.event_list.length=0)});a.add("/feed/index",t=>{let{data:e}=t.state.message;if(Array.isArray(e.items)){let i=["small_cover_v2","large_cover_single_v9","large_cover_v1"];e.items=e.items.filter(o=>!o.banner_item&&!o.ad_info&&o.card_goto==="av"&&i.includes(o.card_type))}});a.add("/feed/index/story",t=>{let{data:e}=t.state.message;if(Array.isArray(e.items)){let i=["vertical_ad_av","vertical_ad_live","vertical_ad_picture"];e.items=e.items.filter(o=>!o.ad_info&&o.card_goto&&!i.includes(o.card_goto)?(o.story_cart_icon=void 0,o.free_flow_toast=void 0,o.image_infos=void 0,o.course_info=void 0,o.game_info=void 0,!0):!1,[])}});a.add(["/account/mine","/account/mine/ipad"],B,A,t=>{let{showCreatorHub:e}=t.argument,{data:i}=t.state.message,o=t.state.i18n;for(let[s,r]of Object.entries(q(o)))i[s]&&(i[s]=r);e&&i.sections_v2&&i.sections_v2.splice(1,0,C(o)),i.vip=O(),i.vip_type=2,i.answer=void 0,i.live_tip=void 0,i.vip_section=void 0,i.vip_section_v2=void 0,i.modular_vip_section=void 0});a.add("/account/myinfo",t=>{let{data:e}=t.state.message;e.vip=O()});var z=a;var J=new v;J.use(M).use(H).use(z.routes());var G=J;G.run();
